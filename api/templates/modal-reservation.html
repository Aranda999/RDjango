{% load static %}

<div class="modal fade" id="reservacionModal" tabindex="-1" aria-labelledby="reservacionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="border-radius: 15px;">
            <div class="modal-header" style="background-color: rgba(106, 99, 99, 0.93); border-top-left-radius: 13px; border-top-right-radius: 13px; height: 20px;">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    style="background-color: transparent; border: none; padding: 0; font-size: 15px; margin-right: 3px;"></button>
            </div>
            <h5 class="modal-title" id="reservacionModalLabel" style="margin-left: 15px;">Metro CDMX</h5>
            <div class="modal-body">

                <!-- Evento -->
                <div class="mb-2">
                    <label class="form-label fw-bold" style="color: black;">EVENTO</label>
                    <input type="text" class="form-control form-control-sm" id="evento"
                        placeholder="Ingrese el evento" style="border: 1px solid black;">
                </div>

                <!-- Área -->
                <div class="mb-2">
                    <label class="form-label fw-bold" style="color: black;">ÁREA</label>
                    <select class="form-select form-select-sm" id="area" style="border: 1px solid black;">
                        <option selected disabled>Seleccione un área</option>
                    </select>
                </div>

                <!-- Comentarios -->
                <div class="mb-2">
                    <label class="form-label fw-bold" style="color: black;">COMENTARIOS</label>
                    <textarea class="form-control form-control-sm" id="comentarios" rows="2"
                        placeholder="Ingrese sus comentarios"
                        style="resize: none; border: 1px solid black;"></textarea>
                    <p style="margin-bottom: 5px; font-size: 12px;">Max 15 palabras</p>
                </div>

                <!-- Fecha y Número de personas en una sola fila -->
                <div class="row">
                    <div class="col-6">
                        <div class="mb-2">
                            <label class="form-label fw-bold" style="color: black;">FECHA</label>
                            <input type="date" class="form-control form-control-sm" id="fechaReservacion"
                                style="border: 1px solid black;">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mb-2">
                            <label class="form-label fw-bold" style="color: black;">NÚMERO DE PERSONAS</label>
                            <input type="number" class="form-control form-control-sm" id="numPersonas" min="0"
                                placeholder="Ingrese el número" style="border: 1px solid black;">
                        </div>
                    </div>
                </div>

                <!-- Hora inicio y fin -->
                <div class="row">
                    <div class="col-6">
                        <div class="mb-2">
                            <label class="form-label fw-bold" style="color: black;">H. INICIO</label>
                            <input type="time" class="form-control form-control-sm" id="horaInicio"
                                style="border: 1px solid black;">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mb-2">
                            <label class="form-label fw-bold" style="color: black;">H. FINALIZACIÓN</label>
                            <input type="time" class="form-control form-control-sm" id="horaFin"
                                style="border: 1px solid black;">
                        </div>
                    </div>
                </div>

                <!-- Sala y detalles -->
                <div class="row align-items-start">
                    <div class="col-4">
                        <div class="mb-2">
                            <label class="form-label fw-bold" style="color: black;">SALA DE JUNTAS</label>
                            <div class="input-group">
                                <select class="form-select form-select-sm" id="salaJuntas"
                                    style="border: 1px solid black; width: 140px;" onchange="mostrarDetallesSala()">
                                    <option selected disabled>Seleccione</option>
                                    <option value="1">Sala 1</option>
                                    <option value="2">Sala 2</option>
                                    <option value="3">Sala 3</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-8">
                        <div id="detallesSalaContenido"
                            style="background-color: #f9f9f9; border: 1px solid black; border-radius: 5px; padding: 10px 15px; font-size: 13px; min-height: 75px;">
                            <em>Selecciona una sala para ver los detalles</em>
                        </div>
                    </div>
                </div>

                <!-- Botón reservar -->
                <button type="submit" class="btn"
                    style="background-color: #ff6200; color: black; width: 50%; margin: 15px auto 0 auto; display: block; padding: 10px; border: 1px solid black; border-radius: 5px;">
                    Reservar
                </button>
            </div>
        </div>
    </div>
</div>




<style>
    .detallesSala {
        display: none;
        z-index: 1060;
        position: fixed;
        top: 50%;
        left: calc(50% + 280px);
        transform: translateY(-50%);
    }

    .detallesSala .contenido {
        background-color: white;
        border: .5px solid black; /* contorno negro */
        padding: 10px 15px;
        width: 350px; /* más chico */
        height: auto;
        max-height: 200px; /* limitar altura */
        overflow-y: auto; /* scroll si se pasa */
        box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
        font-size: 14px; /* texto más compacto */
        line-height: 1.4;
    }
    .detallesSala h5 {
        font-weight: bold;
        font-size: 16px;
        margin-bottom: 8px;
        color: #333;
    }

    .detallesSala p {
        margin: 4px 0;
    }
</style>

<script>
    const salasInfo = {
        1: {
            nombre: "Sala 1",
            equipo: "Proyector, Pantalla, Pizarrón",
            capacidad: "10 personas"
        },
        2: {
            nombre: "Sala 2",
            equipo: "Pantalla táctil, Sonido surround",
            capacidad: "8 personas"
        },
        3: {
            nombre: "Sala 3",
            equipo: "Computadora, Cámara para videollamada",
            capacidad: "6 personas"
        }
    };

    function mostrarDetallesSala() {
        const salaSeleccionada = document.getElementById('salaJuntas').value;
        const contenidoDiv = document.getElementById('detallesSalaContenido');

        if (salasInfo[salaSeleccionada]) {
            const sala = salasInfo[salaSeleccionada];
            contenidoDiv.innerHTML = `
                <p style="margin: 2px 0;"><strong>Nombre:</strong> ${sala.nombre}</p>
                <p style="margin: 2px 0;"><strong>Equipo:</strong> ${sala.equipo}</p>
                <p style="margin: 2px 0;"><strong>Capacidad:</strong> ${sala.capacidad}</p>
            `;
        } else {
            contenidoDiv.innerHTML = `<em>Selecciona una sala para ver los detalles</em>`;
        }
    }
</script>
